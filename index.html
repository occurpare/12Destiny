<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="12 DICE - 5í„´ ì•ˆì— 12ì¹¸ì— ë„ë‹¬í•˜ì„¸ìš”! 156ê°œì˜ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ê°€ ìˆëŠ” ì£¼ì‚¬ìœ„ ë³´ë“œê²Œì„">
    <meta name="keywords" content="ì£¼ì‚¬ìœ„, ë³´ë“œê²Œì„, 12 DICE, dice game">
    <meta name="author" content="occurpare@naver.com">
    <title>12 DICE - 156 Events Edition</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="main-nav">
        <div class="nav-brand">ğŸ² 12 DICE</div>
        <div class="nav-links">
            <a href="index.html" class="nav-link active">ğŸ® ê²Œì„</a>
            <a href="pages/guide.html" class="nav-link">ğŸ“– ê°€ì´ë“œ</a>
            <a href="pages/faq.html" class="nav-link">â“ FAQ</a>
        </div>
        <div class="nav-settings">
            <button class="lang-toggle" id="langToggle" title="ì–¸ì–´ ì „í™˜">ğŸ‡°ğŸ‡· í•œ</button>
        </div>
    </nav>
    
    <!-- ì‹œì‘ í™”ë©´ ëª¨ë‹¬ -->
    <div class="intro-modal" id="introModal">
        <div class="intro-content">
            <div class="intro-header">
                <span class="intro-icon">ğŸ²</span>
                <h1>12 DICE</h1>
                <span class="intro-version">v15f - 156 Events</span>
            </div>
            
            <div class="intro-rules">
                <h2>ğŸ“‹ ê²Œì„ ê·œì¹™</h2>
                <ul>
                    <li><strong>ëª©í‘œ:</strong> 5í„´ ì•ˆì— <span class="highlight-goal">12ì¹¸</span>ì— ë„ë‹¬í•˜ì„¸ìš”!</li>
                    <li><strong>ì£¼ì‚¬ìœ„:</strong> ê¸°ë³¸ 1~6, ì´ë²¤íŠ¸ë¡œ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                    <li><strong>ì´ë²¤íŠ¸:</strong> ë§¤ í„´ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤</li>
                    <li><strong>ìš°íšŒ ë£¨íŠ¸:</strong> 12ì¹¸ ì´ˆê³¼ ì‹œ 3~6ì¹¸ ìš°íšŒë¡œê°€ ìƒì„±ë©ë‹ˆë‹¤</li>
                </ul>
            </div>
            
            <div class="intro-cats">
                <h2>ğŸ¯ ì´ë²¤íŠ¸ ì¹´í…Œê³ ë¦¬</h2>
                <div class="cat-grid">
                    <div class="cat-item positive">
                        <span class="cat-icon">âœ…</span>
                        <span class="cat-name">ê¸ì •ì </span>
                        <span class="cat-count">20ê°œ</span>
                    </div>
                    <div class="cat-item neutral">
                        <span class="cat-icon">âš–ï¸</span>
                        <span class="cat-name">ì¤‘ë¦½ì </span>
                        <span class="cat-count">20ê°œ</span>
                    </div>
                    <div class="cat-item negative">
                        <span class="cat-icon">âŒ</span>
                        <span class="cat-name">ë¶€ì •ì </span>
                        <span class="cat-count">38ê°œ</span>
                    </div>
                    <div class="cat-item despair">
                        <span class="cat-icon">ğŸ˜±</span>
                        <span class="cat-name">ì ˆë§</span>
                        <span class="cat-count">12ê°œ</span>
                    </div>
                    <div class="cat-item special">
                        <span class="cat-icon">â­</span>
                        <span class="cat-name">íŠ¹ë³„</span>
                        <span class="cat-count">12ê°œ</span>
                    </div>
                    <div class="cat-item blocker">
                        <span class="cat-icon">ğŸ›‘</span>
                        <span class="cat-name">ë°©í•´</span>
                        <span class="cat-count">44ê°œ</span>
                    </div>
                </div>
            </div>
            
            <div class="intro-tips">
                <h2>ğŸ’¡ íŒ</h2>
                <ul>
                    <li>ì´ˆë°˜ì—ëŠ” <span class="tip-good">ì´ˆê¸° ì¥ì• ë¬¼</span> ì´ë²¤íŠ¸ê°€ ë§ì´ ë‚˜ì˜µë‹ˆë‹¤</li>
                    <li>ì¢…ë°˜ì—ëŠ” <span class="tip-bad">í´ë¦¬ì–´ ë°©í•´</span> ì´ë²¤íŠ¸ê°€ ê°•í•´ì§‘ë‹ˆë‹¤</li>
                    <li>ì£¼ì‚¬ìœ„ê°€ ë°”ë€Œë©´ ì „ëµì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤!</li>
                    <li>ì´ë²¤íŠ¸ íŒì—…ì„ í´ë¦­í•˜ë©´ ë¹ ë¥´ê²Œ ë„˜ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                </ul>
            </div>
            
            <button class="intro-start-btn" id="startGameBtn">ğŸ® ê²Œì„ ì‹œì‘</button>
            
            <label class="intro-checkbox">
                <input type="checkbox" id="skipIntroCheckbox">
                <span>ë‹¤ì‹œ ë³´ì§€ ì•Šê¸°</span>
            </label>
        </div>
    </div>

    <!-- ì „ì²´ ë˜í¼ -->
    <div class="game-wrapper">
        <!-- í—¤ë” -->
        <div class="header">
            <div class="header-top">
                <h1>ğŸ² 12 DICE ğŸ²</h1>
                <button class="help-btn" id="helpBtn" title="ê²Œì„ ê·œì¹™">â“</button>
            </div>
        </div>

        <!-- ì¢Œìš° ì»¨í…Œì´ë„ˆ ë˜í¼ -->
        <div class="containers-wrapper">
            <!-- ì™¼ìª½ ì»¨í…Œì´ë„ˆ: ê²Œì„ ë³´ë“œ -->
            <div class="game-container board-container">
                <h2 class="container-title">ğŸ“ ê²Œì„ ë³´ë“œ</h2>
                <div class="status-bar">
                    <div class="turn-counter">í„´: <span id="currentTurn">1</span>/5</div>
                    <div class="position">ìœ„ì¹˜: <span id="currentPosition">0</span>ì¹¸</div>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                            <span class="progress-text" id="progressText">0%</span>
                        </div>
                    </div>
                </div>
                <div class="board" id="board"></div>
                <!-- ì§€ì† íš¨ê³¼ í‘œì‹œ -->
                <div class="active-effects" id="activeEffects"></div>
            </div>

            <!-- ì˜¤ë¥¸ìª½ ì»¨í…Œì´ë„ˆ: ì£¼ì‚¬ìœ„ + ì´ë²¤íŠ¸ -->
            <div class="game-container dice-container">
                <h2 class="container-title">ğŸ² ì£¼ì‚¬ìœ„ & ì´ë²¤íŠ¸</h2>
                <!-- ì£¼ì‚¬ìœ„ ì˜ì—­ -->
                <div class="dice-area">
                    <div class="dice-display" id="diceDisplay">
                        <span id="diceValue">?</span>
                    </div>
                    <div class="dice-info" id="diceInfo">
                        <span class="dice-type" id="diceType">ê¸°ë³¸ ì£¼ì‚¬ìœ„ (1~6)</span>
                    </div>
                </div>

                <!-- ì´ë²¤íŠ¸ ì˜ì—­ -->
                <div class="event-area hidden" id="eventArea">
                    <div class="event-content" id="eventContent"></div>
                    <div class="tap-area hidden" id="tapArea">
                        <div class="tap-button" id="tapButton">ì—°íƒ€í•˜ì„¸ìš”!!</div>
                        <div class="tap-progress">
                            <div class="tap-bar" id="tapBar"></div>
                        </div>
                    </div>
                    <div class="choice-area hidden" id="choiceArea"></div>
                </div>

                <!-- ê²Œì„ ë¡œê·¸ -->
                <div class="log-area" id="logArea"></div>

                <!-- ë²„íŠ¼ ì˜ì—­ -->
                <div class="button-area">
                    <button class="roll-button" id="rollButton">ğŸ² ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸°</button>
                    <button class="history-btn" id="historyBtn" title="ì´ë²¤íŠ¸ ê¸°ë¡">ğŸ“œ ê¸°ë¡</button>
                    <button class="restart-button hidden" id="restartButton">ğŸ”„ ë‹¤ì‹œ ì‹œì‘</button>
                </div>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div class="result-screen hidden" id="resultScreen">
            <div class="result-content">
                <div class="result-icon" id="resultIcon">ğŸ‰</div>
                <div class="result-text" id="resultText">ìŠ¹ë¦¬!</div>
                <div class="result-detail" id="resultDetail">ì¶•í•˜í•©ë‹ˆë‹¤!</div>
                <div class="result-stats" id="resultStats"></div>
                <button class="result-button" id="resultButton">ë‹¤ì‹œ ë„ì „</button>
            </div>
        </div>
    </div>

    <!-- ì´ë²¤íŠ¸ ê¸°ë¡ íŒ¨ë„ -->
    <div class="history-panel hidden" id="historyPanel">
        <div class="history-header">
            <h3>ğŸ“œ ì´ë²¤íŠ¸ ê¸°ë¡</h3>
            <button class="history-close" id="historyClose">âœ•</button>
        </div>
        <div class="history-list" id="historyList"></div>
    </div>
    
    <!-- í‘¸í„° -->
    <footer class="game-footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="pages/privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <span class="footer-divider">|</span>
                <a href="pages/terms.html">ì´ìš©ì•½ê´€</a>
                <span class="footer-divider">|</span>
                <a href="pages/cookies.html">ì¿ í‚¤ ì •ì±…</a>
            </div>
            <div class="footer-developer">
                ê°œë°œì: <a href="mailto:occurpare@naver.com">occurpare@naver.com</a>
            </div>
        </div>
    </footer>

    <!-- ì–¸ì–´ íŒŒì¼ ë¡œë“œ -->
    <script src="lang/ko.js"></script>
    <script src="lang/en.js"></script>
    <script src="game.js"></script>
    <script>
        // ==================== ì–¸ì–´ ì„¤ì • ====================
        let currentLang = localStorage.getItem('lang') || 'ko';
        const langToggle = document.getElementById('langToggle');
        
        // ì–¸ì–´ ë³€ê²½ í•¨ìˆ˜
        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            const LANG = lang === 'ko' ? LANG_KO : LANG_EN;
            
            // ì–¸ì–´ í† ê¸€ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            langToggle.textContent = lang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œ' : 'ğŸ‡ºğŸ‡¸ EN';
            langToggle.title = lang === 'ko' ? 'Switch to English' : 'í•œêµ­ì–´ë¡œ ì „í™˜';
            
            // HTML lang ì†ì„±
            document.documentElement.lang = lang;
            
            // ë„¤ë¹„ê²Œì´ì…˜
            const navLinks = document.querySelectorAll('.nav-link');
            if (navLinks[0]) navLinks[0].textContent = LANG.nav.game;
            if (navLinks[1]) navLinks[1].textContent = LANG.nav.guide;
            if (navLinks[2]) navLinks[2].textContent = LANG.nav.faq;
            
            // ì¸íŠ¸ë¡œ ëª¨ë‹¬
            const introTitle = document.querySelector('.intro-header h1');
            const introVersion = document.querySelector('.intro-version');
            const introRulesTitle = document.querySelector('.intro-rules h2');
            const introCatsTitle = document.querySelector('.intro-cats h2');
            const introTipsTitle = document.querySelector('.intro-tips h2');
            const startBtn = document.getElementById('startGameBtn');
            const skipLabel = document.querySelector('.intro-checkbox span');
            
            if (introVersion) introVersion.textContent = LANG.version;
            if (introRulesTitle) introRulesTitle.textContent = LANG.rulesTitle;
            if (introCatsTitle) introCatsTitle.textContent = LANG.categoriesTitle;
            if (introTipsTitle) introTipsTitle.textContent = LANG.tipsTitle;
            if (startBtn) startBtn.textContent = LANG.buttons.startGame;
            if (skipLabel) skipLabel.textContent = LANG.buttons.dontShowAgain;
            
            // ì¸íŠ¸ë¡œ ê·œì¹™ í…ìŠ¤íŠ¸
            const rulesList = document.querySelector('.intro-rules ul');
            if (rulesList) {
                rulesList.innerHTML = `
                    <li><strong>${LANG.rules.goal}</strong> ${LANG.rules.goalText} <span class="highlight-goal">${LANG.rules.goalHighlight}</span> ${LANG.rules.goalReach}</li>
                    <li><strong>${LANG.rules.dice}</strong> ${LANG.rules.diceText}</li>
                    <li><strong>${LANG.rules.events}</strong> ${LANG.rules.eventsText}</li>
                    <li><strong>${LANG.rules.bypass}</strong> ${LANG.rules.bypassText}</li>
                `;
            }
            
            // ì¹´í…Œê³ ë¦¬ í…ìŠ¤íŠ¸
            const catItems = document.querySelectorAll('.cat-item');
            const cats = ['positive', 'neutral', 'negative', 'despair', 'special', 'blocker'];
            catItems.forEach((item, i) => {
                const nameEl = item.querySelector('.cat-name');
                const countEl = item.querySelector('.cat-count');
                if (nameEl && LANG.categories[cats[i]]) {
                    nameEl.textContent = LANG.categories[cats[i]].name;
                }
                if (countEl && LANG.categories[cats[i]]) {
                    countEl.textContent = LANG.categories[cats[i]].count;
                }
            });
            
            // íŒ í…ìŠ¤íŠ¸
            const tipsList = document.querySelector('.intro-tips ul');
            if (tipsList && LANG.tips) {
                tipsList.innerHTML = LANG.tips.map(tip => `<li>${tip}</li>`).join('');
            }
            
            // ë²„íŠ¼ í…ìŠ¤íŠ¸
            const rollBtn = document.getElementById('rollButton');
            const historyBtnEl = document.getElementById('historyBtn');
            const restartBtn = document.getElementById('restartButton');
            const resultBtn = document.getElementById('resultButton');
            
            if (rollBtn) rollBtn.textContent = LANG.buttons.rollDice;
            if (restartBtn) restartBtn.textContent = LANG.buttons.restart;
            if (resultBtn) resultBtn.textContent = LANG.buttons.challengeAgain;
            if (historyBtnEl) {
                // ê¸°ë¡ ë²„íŠ¼ì€ ì´ëª¨ì§€ ìœ ì§€
                historyBtnEl.textContent = 'ğŸ“œ ' + (lang === 'ko' ? 'ê¸°ë¡' : 'History');
            }
            
            // ê²°ê³¼ í™”ë©´ í…ìŠ¤íŠ¸ (ê²Œì„ ì¤‘ì— ë™ì ìœ¼ë¡œ ë³€ê²½ë¨)
            if (window.game && window.game.gameOver) {
                updateResultTexts();
            }
            
            // ì´ë²¤íŠ¸ ê¸°ë¡ íŒ¨ë„
            const historyTitle = document.querySelector('.history-header h3');
            if (historyTitle) historyTitle.textContent = LANG.history.title;
            
            // í‘¸í„°
            const footerDev = document.querySelector('.footer-developer');
            if (footerDev) {
                const devLink = footerDev.querySelector('a');
                footerDev.innerHTML = LANG.footer.developer + ': ';
                const newLink = document.createElement('a');
                newLink.href = 'mailto:occurpare@naver.com';
                newLink.textContent = 'occurpare@naver.com';
                footerDev.appendChild(newLink);
            }
            
            // í‘¸í„° ë§í¬
            const footerLinks = document.querySelectorAll('.footer-links a');
            if (footerLinks[0]) footerLinks[0].textContent = LANG.footer.legal.privacy;
            if (footerLinks[1]) footerLinks[1].textContent = LANG.footer.legal.terms;
            if (footerLinks[2]) footerLinks[2].textContent = LANG.footer.legal.cookies;
        }
        
        // ê²°ê³¼ í™”ë©´ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        function updateResultTexts() {
            const LANG = currentLang === 'ko' ? LANG_KO : LANG_EN;
            const resultDetail = document.getElementById('resultDetail');
            const statsEl = document.getElementById('resultStats');
            
            if (!window.game) return;
            
            // ê²°ê³¼ ìƒì„¸ í…ìŠ¤íŠ¸
            if (window.game.gameOver) {
                if (resultDetail) {
                    if (window.game.position >= window.game.goalPosition) {
                        resultDetail.textContent = currentLang === 'ko' 
                            ? `${window.game.turn}í„´ ë§Œì— í´ë¦¬ì–´!` 
                            : `Cleared in ${window.game.turn} turns!`;
                    } else {
                        resultDetail.textContent = currentLang === 'ko'
                            ? `${window.game.maxTurns}í„´ ë‚´ ë„ë‹¬ ì‹¤íŒ¨`
                            : `Failed to reach goal in ${window.game.maxTurns} turns`;
                    }
                }
                
                // í†µê³„ í…ìŠ¤íŠ¸
                if (statsEl) {
                    const stats = LANG.result.stats;
                    statsEl.innerHTML = `
                        <div class="stat-row"><span class="stat-label">${stats.totalRolls}</span><span class="stat-value">${window.game.totalRolls}${currentLang === 'ko' ? 'íšŒ' : ' times'}</span></div>
                        <div class="stat-row"><span class="stat-label">${stats.events}</span><span class="stat-value">${window.game.eventHistory.length}${currentLang === 'ko' ? 'íšŒ' : ' times'}</span></div>
                        <div class="stat-row"><span class="stat-label">${stats.finalPosition}</span><span class="stat-value">${window.game.position}${currentLang === 'ko' ? 'ì¹¸' : ''}</span></div>
                    `;
                }
            }
        }
        
        // ì–¸ì–´ í† ê¸€ ì´ë²¤íŠ¸
        langToggle.addEventListener('click', () => {
            const newLang = currentLang === 'ko' ? 'en' : 'ko';
            setLanguage(newLang);
        });
        
        // ==================== ì¸íŠ¸ë¡œ ëª¨ë‹¬ ê´€ë¦¬ ====================
        const introModal = document.getElementById('introModal');
        const startGameBtn = document.getElementById('startGameBtn');
        const skipIntroCheckbox = document.getElementById('skipIntroCheckbox');
        const helpBtn = document.getElementById('helpBtn');
        const historyBtn = document.getElementById('historyBtn');
        const historyPanel = document.getElementById('historyPanel');
        const historyClose = document.getElementById('historyClose');
        
        // ì €ì¥ëœ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        if (localStorage.getItem('skipIntro') === 'true') {
            introModal.classList.add('hidden');
        }
        
        // ì´ˆê¸° ì–¸ì–´ ì„¤ì •
        setLanguage(currentLang);
        
        // ê²Œì„ ì‹œì‘
        startGameBtn.addEventListener('click', () => {
            if (skipIntroCheckbox.checked) {
                localStorage.setItem('skipIntro', 'true');
            }
            introModal.classList.add('hidden');
        });
        
        // ë„ì›€ë§ ë²„íŠ¼
        helpBtn.addEventListener('click', () => {
            introModal.classList.remove('hidden');
        });
        
        // ì´ë²¤íŠ¸ ê¸°ë¡ íŒ¨ë„
        historyBtn.addEventListener('click', () => {
            historyPanel.classList.toggle('hidden');
            updateHistoryPanel();
        });
        
        historyClose.addEventListener('click', () => {
            historyPanel.classList.add('hidden');
        });
        
        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgress() {
            if (!window.game) return;
            const position = window.game.position || 0;
            const goal = window.game.goalPosition || 12;
            const progress = Math.min(100, Math.round((position / goal) * 100));
            
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = progress + '%';
            document.getElementById('distanceLeft').textContent = Math.max(0, goal - position) + 'ì¹¸';
            document.getElementById('eventCount').textContent = (window.game.eventHistory ? window.game.eventHistory.length : 0) + 'íšŒ';
            
            let chance = 92;
            if (position >= 10) chance = 99.5;
            else if (position >= 7) chance = 99;
            else if (position >= 4) chance = 96;
            document.getElementById('eventChance').textContent = chance + '%';
        }
        
        // ì´ë²¤íŠ¸ ê¸°ë¡ íŒ¨ë„ ì—…ë°ì´íŠ¸
        function updateHistoryPanel() {
            const historyList = document.getElementById('historyList');
            const LANG = currentLang === 'ko' ? LANG_KO : LANG_EN;
            
            if (!window.game || !window.game.eventHistory) {
                historyList.innerHTML = `<div class="history-empty">${LANG.history.empty}</div>`;
                return;
            }
            
            const categories = currentLang === 'ko' ? {
                'p': { name: 'ê¸ì •ì ', class: 'positive', icon: 'âœ…' },
                'n': { name: 'ì¤‘ë¦½ì ', class: 'neutral', icon: 'âš–ï¸' },
                'e': { name: 'ë¶€ì •ì ', class: 'negative', icon: 'âŒ' },
                'd': { name: 'ì ˆë§', class: 'despair', icon: 'ğŸ˜±' },
                's': { name: 'íŠ¹ë³„', class: 'special', icon: 'â­' },
                'r': { name: 'ì´ˆê¸°', class: 'early', icon: 'ğŸš§' },
                't': { name: 'í„´ì••ë°•', class: 'turnPressure', icon: 'â°' },
                'c': { name: 'ì €ì£¼', class: 'curse', icon: 'ğŸ”®' },
                'b': { name: 'ë°©í•´', class: 'blocker', icon: 'ğŸ›‘' },
                'bp': { name: 'ìš°íšŒ', class: 'bypass', icon: 'ğŸ”„' }
            } : {
                'p': { name: 'Positive', class: 'positive', icon: 'âœ…' },
                'n': { name: 'Neutral', class: 'neutral', icon: 'âš–ï¸' },
                'e': { name: 'Negative', class: 'negative', icon: 'âŒ' },
                'd': { name: 'Despair', class: 'despair', icon: 'ğŸ˜±' },
                's': { name: 'Special', class: 'special', icon: 'â­' },
                'r': { name: 'Early', class: 'early', icon: 'ğŸš§' },
                't': { name: 'Turn', class: 'turnPressure', icon: 'â°' },
                'c': { name: 'Curse', class: 'curse', icon: 'ğŸ”®' },
                'b': { name: 'Blocker', class: 'blocker', icon: 'ğŸ›‘' },
                'bp': { name: 'Bypass', class: 'bypass', icon: 'ğŸ”„' }
            };
            
            let html = '';
            const history = window.game.eventHistory;
            
            if (history.length === 0) {
                html = `<div class="history-empty">${LANG.history.empty}</div>`;
            } else {
                const eventLib = window.game.getEventLibrary();
                const allEvents = [
                    ...eventLib.positive, ...eventLib.neutral, ...eventLib.negative,
                    ...eventLib.despair, ...eventLib.special, ...eventLib.early,
                    ...eventLib.turnPressure, ...eventLib.curse, ...eventLib.blocker,
                    ...eventLib.bypass
                ];
                
                history.forEach((id, index) => {
                    const event = allEvents.find(e => e.id === id);
                    const prefix = id.startsWith('bp') ? 'bp' : id.charAt(0);
                    const cat = categories[prefix] || categories['n'];
                    const turnText = currentLang === 'ko' ? `í„´ ${index + 1}` : `Turn ${index + 1}`;
                    
                    html += '<div class="history-item ' + cat.class + '">' +
                        '<span class="history-icon">' + (event ? event.icon : 'â“') + '</span>' +
                        '<span class="history-name">' + (event ? event.name : id) + '</span>' +
                        '<span class="history-turn">' + turnText + '</span>' +
                        '</div>';
                });
            }
            
            historyList.innerHTML = html;
        }
    </script>
</body>
</html>